# 低延迟流式翻译配置

# ===== ASR =====
asr:
  engine: faster-whisper
  model_size: medium
  compute_type: float16
  beam_size: 1
  temperature: 0.0
  word_timestamps: true
  condition_on_previous_text: true

# ===== STREAMING WINDOW =====
streaming:
  window_ms: 10000
  step_ms: 400
  overlap_ms: 2000
  commit_stable_iterations: 2
  max_utterance_ms: 30000

# ===== VAD =====
vad:
  engine: silero
  threshold: 0.45
  speech_end_frames: 40
  min_speech_frames: 10

# ===== CHUNK / BUFFER =====
audio:
  sample_rate: 16000
  channels: 1
  ring_buffer_seconds: 30
  tail_pad_ms: 1000
  pre_roll_ms: 400

# ===== PARTIAL / FINAL POLICY =====
stabilizer:
  enable_partial: true
  partial_update_interval_ms: 400
  commit_only_new_text: true
  use_word_alignment: true

# ===== QUEUES =====
queues:
  asr_max_pending: 1
  mt_max_pending: 2

# ===== MT (保持现有 NLLB) =====
mt:
  engine: transformers
  model: facebook/nllb-200-distilled-600M
  beam_size: 1
  max_length: 256
  translate_committed_only: true

# ===== LOGGING =====
logging:
  level: INFO
